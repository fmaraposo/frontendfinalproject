(this.webpackJsonpfinalproject_frontend=this.webpackJsonpfinalproject_frontend||[]).push([[0],{22:function(e,t,s){},41:function(e,t,s){},64:function(e,t,s){},65:function(e,t,s){},69:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(1),i=s.n(n),c=s(32),o=s.n(c),r=(s(41),s(12)),l=s(2),u=s(4),d=s(7),h=s(6),j=(s(22),s(3)),b=s(17),p=s.n(b),m=function e(){var t=this;Object(l.a)(this,e),this.loggedin=function(){return t.service.get("/loggedin")};var s=p.a.create({baseURL:"".concat("http://localhost:5000","/api"),withCredentials:!0});this.service=s},O=s(13),g=function(){function e(){Object(l.a)(this,e);var t=p.a.create({baseURL:"".concat("http://localhost:5000","/api")});this.service=t}return Object(u.a)(e,[{key:"addUsers",value:function(e,t){return this.service.put("/quiz/".concat(e,"/users"),{users:t})}},{key:"addQuestionsAndQuizCode",value:function(e,t,s,a){return this.service.post("/quiz",{user:e,questions:t,playlistTitle:s,playlistDescription:a})}},{key:"getQuizCode",value:function(e){return this.service.get("/quiz/".concat(e))}},{key:"getQuizUsers",value:function(e){return this.service.get("/quiz-code/".concat(e))}},{key:"getQuizQuestions",value:function(e){return this.service.get("/quiz-code/".concat(e))}},{key:"addSongs",value:function(e,t){return this.service.put("/quiz/".concat(e,"/addsongs"),{songs:t})}},{key:"getSongs",value:function(e,t){return this.service.post("/quiz/".concat(e,"/playlist"),{userToken:t})}}]),e}(),v=s.p+"static/media/party_playlist_video.8bbc0a0c.mp4",x=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={displayName:"",quizCode:""},e.handleChange=function(t){var s=t.target,a=s.name,n=s.value;e.setState(Object(O.a)({},a,n))},e.handleFormSubmit=function(t){t.preventDefault();var s=new g,a=e.state.displayName;console.log(a),s.addUsers(e.state.quizCode,a).then((function(t){console.log("user ".concat(a," added"),t),e.props.history.push("/quiz-code/lobbygame/".concat(e.state.quizCode))}))},e}return Object(u.a)(s,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"home-wrapper",children:[Object(a.jsx)("video",{src:v,id:"video-home",autoPlay:!0,loop:!0,muted:!0,style:{position:"absolute",width:"100%",left:"50%",top:"50%",height:"100%",objectFit:"cover",transform:"translate(-50%, -50%)",zIndex:"-1"}}),Object(a.jsxs)("div",{className:"home-form-wrapper",children:[Object(a.jsx)("h1",{className:"primary-title",children:"Join a Game"}),Object(a.jsxs)("form",{className:"form-home",onSubmit:this.handleFormSubmit,children:[Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("label",{id:"label"}),Object(a.jsx)("input",{className:"primary-input",type:"text",name:"displayName",onChange:this.handleChange,value:this.state.displayName,placeholder:"Display Name",autoFocus:!0,required:!0})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("label",{id:"label"}),Object(a.jsx)("input",{className:"primary-input",type:"text",name:"quizCode",onChange:this.handleChange,value:this.state.quizCode,placeholder:"Game Pin",required:!0})]}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"form-field",children:Object(a.jsx)("button",{className:"treat-button-home",children:"Join!"})})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("center",{className:"p-home",children:["Be a host and create a game! Log in"," ",Object(a.jsx)("a",{href:"/login-spotify",id:"host",children:"here"})]})]})]})}}]),s}(i.a.Component),f=Object(j.g)(x),y=(s(64),["btn--primary","btn--outline"]),q=["btn--medium","btn--large"],N=function(e){var t=e.children,s=e.type,n=e.onClick,i=e.buttonStyle,c=e.buttonSize,o=y.includes(i)?i:y[0],r=q.includes(c)?c:q[0];return Object(a.jsx)("button",{className:"btn ".concat(o," ").concat(r),onClick:n,type:s,children:t})},C=[{title:"Create a New Quiz",url:"/quiz-creation",cName:"nav-links"}],z=(s(65),function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={clicked:!1},e.handleClick=function(){e.setState({clicked:!e.state.clicked})},e}return Object(u.a)(s,[{key:"handleLogout",value:function(e){e.preventDefault(),window.open("https://accounts.spotify.com/logout"),window.location.replace("/")}},{key:"render",value:function(){return Object(a.jsxs)("nav",{className:"NavbarItems",children:[Object(a.jsxs)("h1",{className:"navbar-logo",children:[" ",Object(a.jsx)("a",{href:"/",style:{textDecoration:"none",color:"white"},children:"Watermelon"})," ",Object(a.jsx)("i",{className:"fab fa-spotify"})]}),Object(a.jsx)("div",{className:"menu-icon",onClick:this.handleClick,children:Object(a.jsx)("i",{className:this.state.clicked?"fas fa-times":"fas fa-bars"})}),Object(a.jsx)("ul",{className:this.state.clicked?"nav-menu active":"nav-menu",children:C.map((function(e,t){return Object(a.jsx)("li",{children:Object(a.jsx)("a",{className:e.cName,href:e.url,children:e.title})},t)}))}),Object(a.jsx)(N,{onClick:this.handleLogout,children:"Log Out"})]})}}]),s}(n.Component)),w=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={title:"",description:"",questions:{question1:"",question2:"",question3:"",question4:"",question5:""},code:0},e.handleChange=function(t){var s=t.target,a=s.name,n=s.value;e.setState((function(e){return{questions:Object(r.a)(Object(r.a)({},e.questions),{},Object(O.a)({},a,n))}}))},e.handleChangeTitleDescription=function(t){var s=t.target,a=s.name,n=s.value;e.setState(Object(O.a)({},a,n))},e.handleFormSubmit=function(t){t.preventDefault();var s=new g,a=e.state.questions,n=Object.values(a),i=e.state.title,c=e.state.description;s.addQuestionsAndQuizCode(localStorage.getItem("loggedInUser"),n,i,c).then((function(t){console.log(a),e.setState({code:t.data.quizCode}),console.log(e.state.code),e.props.history.push("/quiz-code/".concat(e.state.code))}))},e}return Object(u.a)(s,[{key:"render",value:function(){return localStorage.getItem("loggedInUser")?Object(a.jsxs)("div",{className:"quizCreation",children:[Object(a.jsx)(z,{}),Object(a.jsx)("h1",{className:"primary-title",children:"Let's create your quiz!"}),Object(a.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(a.jsxs)("div",{className:"title-description-section",children:[Object(a.jsxs)("div",{className:"question",children:[Object(a.jsx)("div",{className:"labelQuestion"}),Object(a.jsx)("div",{className:"inputQuestion",children:Object(a.jsx)("input",{className:"primary-input",type:"text",name:"title",onChange:this.handleChangeTitleDescription,value:this.state.title,placeholder:"Playlist Title",required:!0})})]}),Object(a.jsxs)("div",{className:"question",children:[Object(a.jsx)("div",{className:"labelQuestion"}),Object(a.jsx)("div",{className:"inputQuestion",children:Object(a.jsx)("input",{className:"primary-input",type:"textarea",name:"description",onChange:this.handleChangeTitleDescription,value:this.state.description,placeholder:"Describe your playlist "})})]})]}),Object(a.jsxs)("div",{className:"questions-1-2-3",children:[Object(a.jsxs)("div",{className:"question",children:[Object(a.jsx)("div",{className:"labelQuestion"}),Object(a.jsx)("div",{className:"inputQuestion",children:Object(a.jsx)("input",{className:"primary-input",style:{width:"280px"},type:"text",name:"question1",onChange:this.handleChange,value:this.state.questions.question1,placeholder:"1. What song gets you energized?",required:!0})})]}),Object(a.jsxs)("div",{className:"question",children:[Object(a.jsx)("div",{className:"labelQuestion"}),Object(a.jsx)("div",{className:"inputQuestion",children:Object(a.jsx)("input",{className:"primary-input",style:{width:"360px"},type:"text",name:"question2",onChange:this.handleChange,value:this.state.questions.question2,placeholder:"2. What song makes you want to dance?",required:!0})})]}),Object(a.jsxs)("div",{className:"question",children:[Object(a.jsx)("div",{className:"labelQuestion"}),Object(a.jsx)("div",{className:"inputQuestion",children:Object(a.jsx)("input",{className:"primary-input",style:{width:"330px"},type:"text",name:"question3",onChange:this.handleChange,value:this.state.questions.question3,placeholder:"3.What song brings the romance?",required:!0})})]})]}),Object(a.jsxs)("div",{className:"questions-4-5",children:[Object(a.jsxs)("div",{className:"question",children:[Object(a.jsx)("div",{className:"labelQuestion"}),Object(a.jsx)("div",{className:"inputQuestion",children:Object(a.jsx)("input",{className:"primary-input",style:{width:"330px"},type:"text",name:"question4",onChange:this.handleChange,value:this.state.questions.question4,placeholder:"4.What song are you embarrassed to like?",required:!0})})]}),Object(a.jsxs)("div",{className:"question",children:[Object(a.jsx)("div",{className:"labelQuestion"}),Object(a.jsx)("div",{className:"inputQuestion",children:Object(a.jsx)("input",{className:"primary-input",style:{width:"300px"},type:"text",name:"question5",onChange:this.handleChange,value:this.state.questions.question5,placeholder:" 5. What's your all-time favorite song?",required:!0})})]})]}),Object(a.jsx)("div",{className:"form-field",children:Object(a.jsx)("button",{className:"treat-button-home",children:"Submit!"})})]})]}):Object(a.jsx)(j.a,{path:"/"})}}]),s}(i.a.Component),k=Object(j.g)(w),S=s(34),I=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={code:e.props.match.params.quizCode,value:"",copied:!1},e.handleButton=function(){e.props.history.push("/quiz-code/lobbygame/".concat(e.state.code))},e}return Object(u.a)(s,[{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"quizcode-wrapper",children:[Object(a.jsx)(z,{}),Object(a.jsxs)("div",{className:"quizcode-title",children:[Object(a.jsx)("h1",{className:"primary-title",children:"Here's your quiz code!"}),Object(a.jsx)("h2",{className:"primary-subtitle",children:"Share it with your friends"})]}),Object(a.jsxs)("div",{className:"quizcode-wrapper",children:[Object(a.jsxs)("div",{className:"quizcode-pastebutton",children:[Object(a.jsx)("input",{className:"primary-input",style:{color:"black"},value:this.state.code,onChange:function(t){var s=t.target.code;return e.setState({code:s,copied:!1})}}),Object(a.jsx)(S.CopyToClipboard,{text:this.state.code,onCopy:function(){return e.setState({copied:!0})},children:Object(a.jsx)("i",{style:{color:"white",cursor:"pointer"},className:"far fa-copy fa-2x"})}),this.state.copied?Object(a.jsx)("span",{style:{fontWeight:"bold",color:"red"},children:" Copied."}):null]}),Object(a.jsx)("div",{className:"form-field",children:Object(a.jsx)("button",{className:"treat-button-quizcode",onClick:this.handleButton,children:"Join Lobby"})})]})]})}}]),s}(i.a.Component),Q=Object(j.g)(I),U=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={users:[]},e.intervalID=0,e.handleButton=function(){clearInterval(e.intervalID);var t=e.props.match.params.quizCode;e.props.history.push("/quiz-code/game/".concat(t))},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.intervalID=setInterval((function(){var t=new g,s=e.props.match.params.quizCode;t.getQuizUsers(s).then((function(t){var s=t.data[0];e.setState({users:s.users})}))}),2e3)}},{key:"render",value:function(){return this.state.users?Object(a.jsxs)("div",{className:"lobby-game-wrapper",children:[Object(a.jsx)("div",{children:Object(a.jsx)(z,{})}),Object(a.jsxs)("div",{className:"wrapper-lobbygame",children:[Object(a.jsx)("div",{children:Object(a.jsx)("h1",{className:"primary-title",children:"click start game when ready..."})}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"users-display",children:Object(a.jsx)("ul",{className:"users-ul",children:this.state.users.map((function(e,t){return Object(a.jsx)("li",{className:"users-lobby",children:e},t)}))})}),Object(a.jsx)("div",{className:"form-field",children:Object(a.jsx)("button",{className:"treat-button",onClick:this.handleButton,children:"Start Game"})})]})]})]}):Object(a.jsx)("div",{children:"Loading..."})}}]),s}(i.a.Component),D=(i.a.Component,function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).handleChange=function(e){var t=e.target,s=t.name,n=t.value;a.setState((function(e){return{songs:Object(r.a)(Object(r.a)({},e.songs),{},Object(O.a)({},s,n))}}))},a.handleFormSubmit=function(e){e.preventDefault();var t=new g,s=a.state.songs,n=a.props.match.params.quizCode,i=Object.values(s);console.log("These songs: ".concat(i)),t.addSongs(n,i).then((function(e){console.log(e),console.log("These songs were submited: ".concat(i)),console.log("These quizCode was submited: ".concat(n)),a.props.history.push("/quiz-code/".concat(n,"/playlist"))}))},a.state={questions:[],songs:{song0:"",song1:"",song2:"",song3:"",song4:""},searchResults:[]},a}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=new g,s=this.props.match.params.quizCode;t.getQuizQuestions(s).then((function(t){var s=t.data[0];e.setState({questions:s.questions})}))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)(z,{}),Object(a.jsxs)("div",{className:"lobby-game-wrapper",children:[Object(a.jsx)("h1",{className:"primary-title",children:"Game"}),Object(a.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(a.jsx)("div",{className:"gameQuestions",children:Object(a.jsx)("form",{onSubmit:this.handleFormSubmit,children:Object(a.jsx)("ul",{className:"game-board",children:this.state.questions.map((function(t,s){return Object(a.jsxs)("div",{children:[Object(a.jsx)("li",{className:"questions-game",children:t}),Object(a.jsx)("input",{className:"primary-input-game",type:"text",name:"song".concat(s),onChange:e.handleChange,value:e.state.songs["song".concat(s)]})]},s)}))})})}),Object(a.jsx)("button",{className:"treat-button-quizcode",children:"Submit"})]})]})]})}}]),s}(i.a.Component)),F=Object(j.g)(D),T=s(35),L=s.n(T),A=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={playlist:null},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.quizCode,s=this.props.loggedInUser.accessToken;(new g).getSongs(t,s).then((function(t){console.log(t.data),e.setState({playlist:t.data})}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"quizcode-wrapper",children:[Object(a.jsx)("div",{children:Object(a.jsx)(z,{})}),Object(a.jsx)("h1",{children:"Game's Playlist"}),Object(a.jsx)("div",{children:Object(a.jsx)(L.a,{uri:this.state.playlist,size:{width:"85%",height:600},view:"list",theme:"black"})})]})}}]),s}(i.a.Component),B=Object(j.g)(A),W=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={loggedInUser:null},e.setCurrentUser=function(t){e.setState({loggedInUser:t})},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;null===this.state.loggedInUser&&(new m).loggedin().then((function(t){t.data._id?(e.setCurrentUser(t.data),localStorage.setItem("loggedInUser",t.data.displayName)):localStorage.removeItem("loggedInUser")}))}},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{exact:!0,path:"/",render:function(){return Object(a.jsx)(f,{loggedInUser:e.state.loggedInUser})}}),Object(a.jsx)(j.b,{path:"/quiz-creation",render:function(){return Object(a.jsx)(k,{loggedInUser:e.state.loggedInUser})}}),Object(a.jsx)(j.b,{exact:!0,path:"/quiz-code/:quizCode",component:Q}),Object(a.jsx)(j.b,{path:"/quiz-code/lobbygame/:quizCode",render:function(e){return Object(a.jsx)(U,Object(r.a)(Object(r.a)({},e),{},{loggedInUser:localStorage.getItem("loggedInUser")}))}}),Object(a.jsx)(j.b,{path:"/quiz-code/game/:quizCode",render:function(e){return Object(a.jsx)(F,Object(r.a)(Object(r.a)({},e),{},{loggedInUser:localStorage.getItem("loggedInUser")}))}}),Object(a.jsx)(j.b,{path:"/quiz-code/:quizCode/playlist",render:function(){return Object(a.jsx)(B,{loggedInUser:e.state.loggedInUser})}}),Object(a.jsx)(j.b,{path:"/login-spotify",render:function(){window.location.href="".concat("http://localhost:5000","/api/auth/spotify")}})]})})}}]),s}(i.a.Component),P=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,71)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,c=t.getTTFB;s(e),a(e),n(e),i(e),c(e)}))},G=s(14);o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(G.a,{children:Object(a.jsx)(W,{})})}),document.getElementById("root")),P()}},[[69,1,2]]]);
//# sourceMappingURL=main.e66b0c14.chunk.js.map